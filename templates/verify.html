{% extends "base.html" %}

{% block head %}
<title>Account Verification - QuickPay</title>
{% endblock %}

{% block body %}
<div class="container verify-page">

    <div class="verification-box page-content-box">
        <h2>Account Verification</h2>

        {% if user.verification_status == 'Verified' %}
            <div class="status-message success verified-status-box">
                <p class="text-center">
                    <i data-lucide="check-circle" class="verification-icon-large"></i>
                    <strong>SUCCESS!</strong> Your QuickPay account is **FULLY VERIFIED**.
                    <br>
                    You now have unlocked transfer limits and enhanced security features.
                </p>
                <a href="{{ url_for('welcome') }}" class="btn cta-register cta-full-width">Go to Dashboard</a>
            </div>
        {% else %}
            <p class="text-center verification-intro">
                To unlock higher transfer limits and enhanced security, please submit your government-issued ID documents below.
                <br>
                **Instant Approval:** Your account will be **Verified** immediately upon form submission.
            </p>

            <form action="{{ url_for('verify') }}" method="post" enctype="multipart/form-data" class="verification-form">

                <div class="form-group">
                    <label for="id_front">1. Front of Government ID (Driver's License, Passport, etc.):</label>
                    <input type="file" name="id_front" id="id_front" accept="image/*,.pdf" required>
                </div>

                <div class="form-group">
                    <label for="selfie">2. Photo of You Holding ID (Selfie for Liveness Check):</label>
                    <input type="file" name="selfie" id="selfie" accept="image/*" required>
                </div>

                <input type="submit" value="Submit and Verify Account">
            </form>
        {% endif %}
    </div>
</div>
{% endblock %}